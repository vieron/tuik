var moves=M={dom:{}},Class=function(){var a=this,b=arguments,c=b[0]instanceof Class?b[0]:null,d=b[0]instanceof Class!=1?b[0]:b[1]||null,e=function(){console.log("Class constructor invoked!!!");var b=this,c=arguments,d=function(){b.init.apply(b,c)},e;b.before_init.apply(b,c),a.isReady?d():e=setInterval(function(){a.isReady&&(d(),clearInterval(e))},800)};this.isReady=!1,this.callbacks_queue=[];if(yepnope&&d.dependencies&&d.dependencies.length>0){var a=this;for(var f=d.dependencies.length-1;f>=0;f--){console.log("DEPENDENCIE N:",f);if(!d.dependencies[f].test||!d.dependencies[f].callback)return;var g=d.dependencies[f].callback||function(){};d.dependencies[f].callback=function(){console.log("managing callback in Klass",this),a.isReady=!0;for(var c=a.callbacks_queue.length-1;c>=0;c--)a.callbacks_queue[c].apply(a,b);a.callbacks_queue=[],g()}}yepnope(d.dependencies)}else console.log("init without yepnope"),this.isReady=!0;this.ready=function(a){return!a&&typeof a!="function"?this:(this.isReady?a.apply(this,arguments):this.callbacks_queue.push(a),this)};if(c&&c instanceof Class){var h=function(){};h.prototype=c.prototype,e.prototype=new h}return e.prototype.init=function(){},e.prototype.before_init=function(){},e.fn=e.prototype,e.defaults={},e.dependencies=[],e.polyfill_dependencies=[],e.proxy=function(a){var b=this;return function(){return a.apply(b,arguments)}},e.fn.proxy=e.proxy,e.fn.parent=e,e.extend=function(a){var b=a.extended;for(var c in a)e[c]=a[c];b&&b(e)},e.include=function(a){var b=a.included;for(var c in a)e.fn[c]=a[c];b&&b(e)},e};